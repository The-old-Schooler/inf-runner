let slide = 0
let speed = 20
let hero = sprites.create(img`
    ................
    ................
    ................
    ................
    ......11111.....
    ......11111.....
    ......11111.....
    ......11111.....
    ......11111.....
    ........1.......
    .......111......
    ......1.1.1.....
    .....1..1..1....
    ...11...1...11..
    ..1.....1.....1.
    .1......1......1
    ........1.......
    ........1.......
    ........1.......
    ........1.......
    .......1.1......
    .......1.1......
    ......1...1.....
    ......1...1.....
    .....1.....1....
    ....1.......1...
    ....1.......1...
    ...1.........1..
    ...1.........1..
    ..1...........1.
    ..1...........1.
    .1.............1
    `, SpriteKind.Player)
tiles.setTilemap(tiles.createTilemap(hex`640014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000201010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000102010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002010200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010201000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000201020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000102010201020102000000000000010201020102000000000100000001000000020000000102010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000201020000000000000000000000000102010201020102010000000000000201020102010000000000000000000000000000000002010200000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000002010201020102010201020102010200000000000001020102010200000000000000000000000000000000010201000000000000000000000000000000000000000000000000000000000000000100000000010000000002010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000201020201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020101020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102010201020102`, img`
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .................................................................................................222
    .............................................................22222222......222222....2...2...2...222
    .............................................222............222222222......222222................222
    ..........................................2...........222222222222222......222222................222
    ...............................2....2....22......................................................222
    2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2], TileScale.Sixteen))
scene.setBackgroundColor(0)
scene.cameraFollowSprite(hero)
hero.ay = 290
hero.ax = speed
game.onUpdate(function () {
    if (hero.isHittingTile(CollisionDirection.Top)) {
        slide = 1
    }
    if (!(hero.isHittingTile(CollisionDirection.Top))) {
        slide = 0
    }
    if (controller.A.isPressed() && (hero.isHittingTile(CollisionDirection.Bottom) && !(controller.down.isPressed()))) {
        hero.vy = -150
    }
    if (hero.isHittingTile(CollisionDirection.Right)) {
        hero.ax = 50
    }
    if (controller.down.isPressed() && hero.isHittingTile(CollisionDirection.Bottom)) {
        hero.setImage(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................1.........
            .....................1..........
            ....................1...........
            ...................1............
            .......11111.....11.............
            .......11111....1...............
            .......11111...1................
            .......11111.11.................
            .......111111....111............
            ..........11......1.11..........
            ..........111.....1...11........
            ........11...11....1....11......
            ......11.......1...1......11....
            ....11..........11.1............
            ..11..............111.....111111
            .1..................111111......
            `)
    }
    if (!(controller.down.isPressed())) {
        hero.setImage(img`
            ................................
            ................................
            ................................
            ................................
            ......11111.....................
            ......11111.....................
            ......11111.....................
            ......11111.....................
            ......11111.....................
            ........1.......................
            .......111......................
            ......1.1.1.....................
            .....1..1..1....................
            ...11...1...11..................
            ..1.....1.....1.................
            .1......1......1................
            ........1.......................
            ........1.......................
            ........1.......................
            ........1.......................
            .......1.1......................
            .......1.1......................
            ......1...1.....................
            ......1...1.....................
            .....1.....1....................
            ....1.......1...................
            ....1.......1...................
            ...1.........1..................
            ...1.........1..................
            ..1...........1.................
            ..1...........1.................
            .1.............1................
            `)
    }
    if (hero.isHittingTile(CollisionDirection.Top)) {
        hero.setImage(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................1.........
            .....................1..........
            ....................1...........
            ...................1............
            .......11111.....11.............
            .......11111....1...............
            .......11111...1................
            .......11111.11.................
            .......111111....111............
            ..........11......1.11..........
            ..........111.....1...11........
            ........11...11....1....11......
            ......11.......1...1......11....
            ....11..........11.1............
            ..11..............111.....111111
            .1..................111111......
            `)
    }
})
